module.exports=function(t,e){"use strict";var r={};function __webpack_require__(e){if(r[e]){return r[e].exports}var i=r[e]={i:e,l:false,exports:{}};var a=true;try{t[e].call(i.exports,i,i.exports,__webpack_require__);a=false}finally{if(a)delete r[e]}i.l=true;return i.exports}__webpack_require__.ab=__dirname+"/";function startup(){return __webpack_require__(129)}return startup()}({19:function(t,e,r){"use strict";var i=r(764);Object.defineProperty(e,"__esModule",{value:true});e.isNodePattern=isNodePattern;e.throwError=throwError;e.scan=scan;e.scanIterator=scanIterator;var a=i(r(148));var n=a["default"].mark(scanIterator);function isNodePattern(t){if(typeof t==="undefined"){return false}if(typeof t!=="function"){throw new TypeError("Callback must be a function")}return true}function throwError(t,e){if(typeof t==="string"){t=new Error(t)}if(typeof e==="function"){return e.call(this,t)}throw t}function scan(t,e,r,i,a,n){e=Math.round(e);r=Math.round(r);i=Math.round(i);a=Math.round(a);for(var s=r;s<r+a;s++){for(var o=e;o<e+i;o++){var h=t.bitmap.width*s+o<<2;n.call(t,o,s,h)}}return t}function scanIterator(t,e,r,i,s){var o,h,f;return a["default"].wrap(function scanIterator$(a){while(1){switch(a.prev=a.next){case 0:e=Math.round(e);r=Math.round(r);i=Math.round(i);s=Math.round(s);o=r;case 5:if(!(o<r+s)){a.next=17;break}h=e;case 7:if(!(h<e+i)){a.next=14;break}f=t.bitmap.width*o+h<<2;a.next=11;return{x:h,y:o,idx:f,image:t};case 11:h++;a.next=7;break;case 14:o++;a.next=5;break;case 17:case"end":return a.stop()}}},n)}},23:function(t,e,r){"use strict";var i=r(764);Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var a=i(r(396));var n=i(r(457));var s=i(r(499));var o=(0,a["default"])({types:[n["default"]],plugins:[s["default"]]});e["default"]=o},24:function(t,e,r){"use strict";var i=r(657);var a=r(367);e.read=function(t,e){return i(t,e||{})};e.write=function(t,e){return a(t,e)}},26:function(t,e,r){"use strict";var i=r(407);var a=r(764);Object.defineProperty(e,"__esModule",{value:true});e.addConstants=addConstants;e.addJimpMethods=addJimpMethods;e.jimpEvMethod=jimpEvMethod;e.jimpEvChange=jimpEvChange;Object.defineProperty(e,"addType",{enumerable:true,get:function get(){return L.addType}});e["default"]=void 0;var n=a(r(32));var s=a(r(382));var o=a(r(510));var h=a(r(194));var f=a(r(482));var l=a(r(472));var u=a(r(27));var c=a(r(713));var d=a(r(655));var p=a(r(431));var v=a(r(747));var m=a(r(622));var g=a(r(614));var b=r(19);var y=a(r(851));var E=a(r(626));var M=a(r(408));var w=a(r(164));var _=a(r(695));var x=a(r(724));var I=a(r(330));var D=a(r(892));var L=i(r(289));var T=r(190);var P=i(r(963));var k="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_";var O=[NaN,NaN];for(var N=2;N<65;N++){var S=(0,y["default"])(y["default"].BIN,k.slice(0,N))(new Array(64+1).join("1"));O.push(S.length)}function noop(){}function isArrayBuffer(t){return Object.prototype.toString.call(t).toLowerCase().indexOf("arraybuffer")>-1}function bufferFromArrayBuffer(t){var e=Buffer.alloc(t.byteLength);var r=new Uint8Array(t);for(var i=0;i<e.length;++i){e[i]=r[i]}return e}function loadFromURL(t,e){(0,x["default"])(t,function(r,i,a){if(r){return e(r)}if("headers"in i&&"location"in i.headers){t.url=i.headers.location;return loadFromURL(t,e)}if((0,p["default"])(a)==="object"&&Buffer.isBuffer(a)){return e(null,a)}var n="Could not load Buffer from <"+t.url+"> "+"(HTTP: "+i.statusCode+")";return new Error(n)})}function loadBufferFromPath(t,e){if(v["default"]&&typeof v["default"].readFile==="function"&&!t.match(/^(http|ftp)s?:\/\/./)){v["default"].readFile(t,e)}else{loadFromURL({url:t},e)}}function isRawRGBAData(t){return t&&(0,p["default"])(t)==="object"&&typeof t.width==="number"&&typeof t.height==="number"&&(Buffer.isBuffer(t.data)||t.data instanceof Uint8Array||typeof Uint8ClampedArray==="function"&&t.data instanceof Uint8ClampedArray)&&(t.data.length===t.width*t.height*4||t.data.length===t.width*t.height*3)}function makeRGBABufferFromRGB(t){if(t.length%3!==0){throw new Error("Buffer length is incorrect")}var e=Buffer.allocUnsafe(t.length/3*4);var r=0;for(var i=0;i<t.length;i++){e[r]=t[i];if((i+1)%3===0){e[++r]=255}r++}return e}var A={data:null,width:null,height:null};var B=function(t){(0,c["default"])(Jimp,t);function Jimp(){var t;for(var e=arguments.length,r=new Array(e),i=0;i<e;i++){r[i]=arguments[i]}(0,o["default"])(this,Jimp);t=(0,f["default"])(this,(0,l["default"])(Jimp).call(this));(0,d["default"])((0,u["default"])(t),"bitmap",A);(0,d["default"])((0,u["default"])(t),"_background",0);(0,d["default"])((0,u["default"])(t),"_originalMime",Jimp.MIME_PNG);(0,d["default"])((0,u["default"])(t),"_exif",null);(0,d["default"])((0,u["default"])(t),"_rgba",true);(0,d["default"])((0,u["default"])(t),"writeAsync",function(e){return(0,D["default"])(t.write,(0,u["default"])(t),e)});(0,d["default"])((0,u["default"])(t),"getBase64Async",function(e){return(0,D["default"])(t.getBase64,(0,u["default"])(t),e)});(0,d["default"])((0,u["default"])(t),"getBuffer",T.getBuffer);(0,d["default"])((0,u["default"])(t),"getBufferAsync",T.getBufferAsync);(0,d["default"])((0,u["default"])(t),"getPixelColour",t.getPixelColor);(0,d["default"])((0,u["default"])(t),"setPixelColour",t.setPixelColor);var a=(0,u["default"])(t);var n=noop;if(isArrayBuffer(r[0])){r[0]=bufferFromArrayBuffer(r[0])}function finish(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++){e[r]=arguments[r]}var i=e[0];var s=i||{};s.methodName="constructor";setTimeout(function(){var t;if(i&&n===noop){a.emitError("constructor",i)}else if(!i){a.emitMulti("constructor","initialized")}(t=n).call.apply(t,[a].concat(e))},1)}if(typeof r[0]==="number"&&typeof r[1]==="number"||parseInt(r[0],10)&&parseInt(r[1],10)){var s=parseInt(r[0],10);var h=parseInt(r[1],10);n=r[2];if(typeof r[2]==="number"){t._background=r[2];n=r[3]}if(typeof r[2]==="string"){t._background=Jimp.cssColorToHex(r[2]);n=r[3]}if(typeof n==="undefined"){n=noop}if(typeof n!=="function"){return(0,f["default"])(t,b.throwError.call((0,u["default"])(t),"cb must be a function",finish))}t.bitmap={data:Buffer.alloc(s*h*4),width:s,height:h};for(var c=0;c<t.bitmap.data.length;c+=4){t.bitmap.data.writeUInt32BE(t._background,c)}finish(null,(0,u["default"])(t))}else if((0,p["default"])(r[0])==="object"&&r[0].url){n=r[1]||noop;if(typeof n!=="function"){return(0,f["default"])(t,b.throwError.call((0,u["default"])(t),"cb must be a function",finish))}loadFromURL(r[0],function(e,i){if(e){return b.throwError.call((0,u["default"])(t),e,finish)}t.parseBitmap(i,r[0].url,finish)})}else if(r[0]instanceof Jimp){var v=r[0];n=r[1];if(typeof n==="undefined"){n=noop}if(typeof n!=="function"){return(0,f["default"])(t,b.throwError.call((0,u["default"])(t),"cb must be a function",finish))}t.bitmap={data:Buffer.from(v.bitmap.data),width:v.bitmap.width,height:v.bitmap.height};t._quality=v._quality;t._deflateLevel=v._deflateLevel;t._deflateStrategy=v._deflateStrategy;t._filterType=v._filterType;t._rgba=v._rgba;t._background=v._background;t._originalMime=v._originalMime;finish(null,(0,u["default"])(t))}else if(isRawRGBAData(r[0])){var m=r[0];n=r[1]||noop;var g=m.width*m.height*4===m.data.length;var y=g?Buffer.from(m.data):makeRGBABufferFromRGB(m.data);t.bitmap={data:y,width:m.width,height:m.height};finish(null,(0,u["default"])(t))}else if(typeof r[0]==="string"){var E=r[0];n=r[1];if(typeof n==="undefined"){n=noop}if(typeof n!=="function"){return(0,f["default"])(t,b.throwError.call((0,u["default"])(t),"cb must be a function",finish))}loadBufferFromPath(E,function(e,r){if(e){return b.throwError.call((0,u["default"])(t),e,finish)}t.parseBitmap(r,E,finish)})}else if((0,p["default"])(r[0])==="object"&&Buffer.isBuffer(r[0])){var M=r[0];n=r[1];if(typeof n!=="function"){return(0,f["default"])(t,b.throwError.call((0,u["default"])(t),"cb must be a function",finish))}t.parseBitmap(M,null,finish)}else{n=r[r.length-1];if(typeof n!=="function"){n=r[r.length-2];if(typeof n!=="function"){n=noop}}var w=Jimp.__extraConstructors.find(function(t){return t.test.apply(t,r)});if(w){new Promise(function(e,i){var a;return(a=w.run).call.apply(a,[(0,u["default"])(t),e,i].concat(r))}).then(function(){return finish(null,(0,u["default"])(t))})["catch"](finish)}else{return(0,f["default"])(t,b.throwError.call((0,u["default"])(t),"No matching constructor overloading was found. "+"Please see the docs for how to call the Jimp constructor.",finish))}}return t}(0,h["default"])(Jimp,[{key:"parseBitmap",value:function parseBitmap(t,e,r){T.parseBitmap.call(this,t,null,r)}},{key:"rgba",value:function rgba(t,e){if(typeof t!=="boolean"){return b.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",e)}this._rgba=t;if((0,b.isNodePattern)(e)){e.call(this,null,this)}return this}},{key:"emitMulti",value:function emitMulti(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};r=Object.assign(r,{methodName:t,eventName:e});this.emit("any",r);if(t){this.emit(t,r)}this.emit(e,r)}},{key:"emitError",value:function emitError(t,e){this.emitMulti(t,"error",e)}},{key:"getHeight",value:function getHeight(){return this.bitmap.height}},{key:"getWidth",value:function getWidth(){return this.bitmap.width}},{key:"inspect",value:function inspect(){return"<Jimp "+(this.bitmap===A?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function toString(){return"[object Jimp]"}},{key:"getMIME",value:function getMIME(){var t=this._originalMime||Jimp.MIME_PNG;return t}},{key:"getExtension",value:function getExtension(){var t=this.getMIME();return L.getExtension(t)}},{key:"write",value:function write(t,e){var r=this;if(!v["default"]||!v["default"].createWriteStream){throw new Error("Cant access the filesystem. You can use the getBase64 method.")}if(typeof t!=="string"){return b.throwError.call(this,"path must be a string",e)}if(typeof e==="undefined"){e=noop}if(typeof e!=="function"){return b.throwError.call(this,"cb must be a function",e)}var i=L.getType(t)||this.getMIME();var a=m["default"].parse(t);if(a.dir){E["default"].sync(a.dir)}this.getBuffer(i,function(i,a){if(i){return b.throwError.call(r,i,e)}var n=v["default"].createWriteStream(t);n.on("open",function(){n.write(a);n.end()}).on("error",function(t){return b.throwError.call(r,t,e)});n.on("finish",function(){e.call(r,null,r)})});return this}},{key:"getBase64",value:function getBase64(t,e){if(t===Jimp.AUTO){t=this.getMIME()}if(typeof t!=="string"){return b.throwError.call(this,"mime must be a string",e)}if(typeof e!=="function"){return b.throwError.call(this,"cb must be a function",e)}this.getBuffer(t,function(r,i){if(r){return b.throwError.call(this,r,e)}var a="data:"+t+";base64,"+i.toString("base64");e.call(this,null,a)});return this}},{key:"hash",value:function hash(t,e){t=t||64;if(typeof t==="function"){e=t;t=64}if(typeof t!=="number"){return b.throwError.call(this,"base must be a number",e)}if(t<2||t>64){return b.throwError.call(this,"base must be a number between 2 and 64",e)}var hash=this.pHash();hash=(0,y["default"])(y["default"].BIN,k.slice(0,t))(hash);while(hash.length<O[t]){hash="0"+hash}if((0,b.isNodePattern)(e)){e.call(this,null,hash)}return hash}},{key:"pHash",value:function pHash(){var pHash=new _["default"];return pHash.getHash(this)}},{key:"distanceFromHash",value:function distanceFromHash(t){var e=new _["default"];var r=e.getHash(this);return e.distance(r,t)}},{key:"getPixelIndex",value:function getPixelIndex(t,e,r,i){var a;var n;if(typeof r==="function"&&typeof i==="undefined"){i=r;r=null}if(!r){r=Jimp.EDGE_EXTEND}if(typeof t!=="number"||typeof e!=="number"){return b.throwError.call(this,"x and y must be numbers",i)}t=Math.round(t);e=Math.round(e);a=t;n=e;if(r===Jimp.EDGE_EXTEND){if(t<0)a=0;if(t>=this.bitmap.width)a=this.bitmap.width-1;if(e<0)n=0;if(e>=this.bitmap.height)n=this.bitmap.height-1}if(r===Jimp.EDGE_WRAP){if(t<0){a=this.bitmap.width+t}if(t>=this.bitmap.width){a=t%this.bitmap.width}if(e<0){a=this.bitmap.height+e}if(e>=this.bitmap.height){n=e%this.bitmap.height}}var s=this.bitmap.width*n+a<<2;if(a<0||a>=this.bitmap.width){s=-1}if(n<0||n>=this.bitmap.height){s=-1}if((0,b.isNodePattern)(i)){i.call(this,null,s)}return s}},{key:"getPixelColor",value:function getPixelColor(t,e,r){if(typeof t!=="number"||typeof e!=="number")return b.throwError.call(this,"x and y must be numbers",r);t=Math.round(t);e=Math.round(e);var i=this.getPixelIndex(t,e);var a=this.bitmap.data.readUInt32BE(i);if((0,b.isNodePattern)(r)){r.call(this,null,a)}return a}},{key:"setPixelColor",value:function setPixelColor(t,e,r,i){if(typeof t!=="number"||typeof e!=="number"||typeof r!=="number")return b.throwError.call(this,"hex, x and y must be numbers",i);e=Math.round(e);r=Math.round(r);var a=this.getPixelIndex(e,r);this.bitmap.data.writeUInt32BE(t,a);if((0,b.isNodePattern)(i)){i.call(this,null,this)}return this}},{key:"hasAlpha",value:function hasAlpha(){for(var t=0;t<this.bitmap.height;t++){for(var e=0;e<this.bitmap.width;e++){var r=this.bitmap.width*t+e<<2;var i=this.bitmap.data[r+3];if(i!==255){return true}}}return false}},{key:"scanIterator",value:function scanIterator(t,e,r,i){if(typeof t!=="number"||typeof e!=="number"){return b.throwError.call(this,"x and y must be numbers")}if(typeof r!=="number"||typeof i!=="number"){return b.throwError.call(this,"w and h must be numbers")}return(0,b.scanIterator)(this,t,e,r,i)}}]);return Jimp}(g["default"]);function addConstants(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:B;Object.entries(t).forEach(function(t){var r=(0,s["default"])(t,2),i=r[0],a=r[1];e[i]=a})}function addJimpMethods(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:B;Object.entries(t).forEach(function(t){var r=(0,s["default"])(t,2),i=r[0],a=r[1];e.prototype[i]=a})}addConstants(P);addJimpMethods({composite:I["default"]});B.__extraConstructors=[];B.appendConstructorOption=function(t,e,r){B.__extraConstructors.push({name:t,test:e,run:r})};B.read=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++){e[r]=arguments[r]}return new Promise(function(t,r){(0,n["default"])(B,e.concat([function(e,i){if(e)r(e);else t(i)}]))})};B.create=B.read;B.rgbaToInt=function(t,e,r,i,a){if(typeof t!=="number"||typeof e!=="number"||typeof r!=="number"||typeof i!=="number"){return b.throwError.call(this,"r, g, b and a must be numbers",a)}if(t<0||t>255){return b.throwError.call(this,"r must be between 0 and 255",a)}if(e<0||e>255){b.throwError.call(this,"g must be between 0 and 255",a)}if(r<0||r>255){return b.throwError.call(this,"b must be between 0 and 255",a)}if(i<0||i>255){return b.throwError.call(this,"a must be between 0 and 255",a)}t=Math.round(t);r=Math.round(r);e=Math.round(e);i=Math.round(i);var n=t*Math.pow(256,3)+e*Math.pow(256,2)+r*Math.pow(256,1)+i*Math.pow(256,0);if((0,b.isNodePattern)(a)){a.call(this,null,n)}return n};B.intToRGBA=function(t,e){if(typeof t!=="number"){return b.throwError.call(this,"i must be a number",e)}var r={};r.r=Math.floor(t/Math.pow(256,3));r.g=Math.floor((t-r.r*Math.pow(256,3))/Math.pow(256,2));r.b=Math.floor((t-r.r*Math.pow(256,3)-r.g*Math.pow(256,2))/Math.pow(256,1));r.a=Math.floor((t-r.r*Math.pow(256,3)-r.g*Math.pow(256,2)-r.b*Math.pow(256,1))/Math.pow(256,0));if((0,b.isNodePattern)(e)){e.call(this,null,r)}return r};B.cssColorToHex=function(t){t=t||0;if(typeof t==="number")return Number(t);return parseInt((0,w["default"])(t).toHex8(),16)};B.limit255=function(t){t=Math.max(t,0);t=Math.min(t,255);return t};B.diff=function(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.1;if(!(t instanceof B)||!(e instanceof B))return b.throwError.call(this,"img1 and img2 must be an Jimp images");var i=t.bitmap;var a=e.bitmap;if(i.width!==a.width||i.height!==a.height){if(i.width*i.height>a.width*a.height){t=t.cloneQuiet().resize(a.width,a.height)}else{e=e.cloneQuiet().resize(i.width,i.height)}}if(typeof r!=="number"||r<0||r>1){return b.throwError.call(this,"threshold must be a number between 0 and 1")}var n=new B(i.width,i.height,4294967295);var s=(0,M["default"])(i.data,a.data,n.bitmap.data,n.bitmap.width,n.bitmap.height,{threshold:r});return{percent:s/(n.bitmap.width*n.bitmap.height),image:n}};B.distance=function(t,e){var r=new _["default"];var i=r.getHash(t);var a=r.getHash(e);return r.distance(i,a)};B.compareHashes=function(t,e){var r=new _["default"];return r.distance(t,e)};B.colorDiff=function(t,e){var r=function pow(t){return Math.pow(t,2)};var i=Math.max;var a=255*255*3;if(t.a!==0&&!t.a){t.a=255}if(e.a!==0&&!e.a){e.a=255}return(i(r(t.r-e.r),r(t.r-e.r-t.a+e.a))+i(r(t.g-e.g),r(t.g-e.g-t.a+e.a))+i(r(t.b-e.b),r(t.b-e.b-t.a+e.a)))/a};function jimpEvMethod(t,e,r){var i="before-"+e;var a=e.replace(/e$/,"")+"ed";B.prototype[t]=function(){var e;for(var n=arguments.length,s=new Array(n),o=0;o<n;o++){s[o]=arguments[o]}var h=s[r.length-1];var f=this;if(typeof h==="function"){e=function wrappedCb(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++){r[i]=arguments[i]}var n=r[0],s=r[1];if(n){f.emitError(t,n)}else{f.emitMulti(t,a,(0,d["default"])({},t,s))}h.apply(this,r)};s[s.length-1]=e}else{e=false}this.emitMulti(t,i);var l;try{l=r.apply(this,s);if(!e){this.emitMulti(t,a,(0,d["default"])({},t,l))}}catch(e){e.methodName=t;this.emitError(t,e)}return l};B.prototype[t+"Quiet"]=r}jimpEvMethod("clone","clone",function(t){var e=new B(this);if((0,b.isNodePattern)(t)){t.call(e,null,e)}return e});function jimpEvChange(t,e){jimpEvMethod(t,"change",e)}jimpEvChange("background",function(t,e){if(typeof t!=="number"){return b.throwError.call(this,"hex must be a hexadecimal rgba value",e)}this._background=t;if((0,b.isNodePattern)(e)){e.call(this,null,this)}return this});jimpEvChange("scan",function(t,e,r,i,a,n){if(typeof t!=="number"||typeof e!=="number"){return b.throwError.call(this,"x and y must be numbers",n)}if(typeof r!=="number"||typeof i!=="number"){return b.throwError.call(this,"w and h must be numbers",n)}if(typeof a!=="function"){return b.throwError.call(this,"f must be a function",n)}var s=(0,b.scan)(this,t,e,r,i,a);if((0,b.isNodePattern)(n)){n.call(this,null,s)}return s});if(process.env.ENVIRONMENT==="BROWSER"){var C;if(typeof window!=="undefined"&&(typeof window==="undefined"?"undefined":(0,p["default"])(window))==="object"){C=window}if(typeof self!=="undefined"&&(typeof self==="undefined"?"undefined":(0,p["default"])(self))==="object"){C=self}C.Jimp=B;C.Buffer=Buffer}var R=B;e["default"]=R},27:function(t){function _assertThisInitialized(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}t.exports=_assertThisInitialized},32:function(t,e,r){var i=r(221);var a=r(601);function _construct(e,r,n){if(a()){t.exports=_construct=Reflect.construct}else{t.exports=_construct=function _construct(t,e,r){var a=[null];a.push.apply(a,e);var n=Function.bind.apply(t,a);var s=new n;if(r)i(s,r.prototype);return s}}return _construct.apply(null,arguments)}t.exports=_construct},34:function(t,e,r){"use strict";var i=r(764);Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var a=i(r(431));var n=r(19);var s=function _default(){return{displace:function displace(t,e,r){if((0,a["default"])(t)!=="object"||t.constructor!==this.constructor){return n.throwError.call(this,"The source must be a Jimp image",r)}if(typeof e!=="number"){return n.throwError.call(this,"factor must be a number",r)}var i=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(r,a,n){var s=t.bitmap.data[n]/256*e;s=Math.round(s);var o=this.getPixelIndex(r+s,a);this.bitmap.data[o]=i.bitmap.data[n];this.bitmap.data[o+1]=i.bitmap.data[n+1];this.bitmap.data[o+2]=i.bitmap.data[n+2]});if((0,n.isNodePattern)(r)){r.call(this,null,this)}return this}}};e["default"]=s;t.exports=e.default},35:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var i=r(19);var a=r(578);var n=function _default(){return{blur:function blur(t,e){if(typeof t!=="number")return i.throwError.call(this,"r must be a number",e);if(t<1)return i.throwError.call(this,"r must be greater than 0",e);var r;var n;var s;var o;var h;var f;var l;var u;var c;var d;var p;var v;var m;var g;var b=this.bitmap.width-1;var y=this.bitmap.height-1;var E=t+1;var M=a.mulTable[t];var w=a.shgTable[t];var _=[];var x=[];var I=[];var D=[];var L=[];var T=[];var P=2;while(P-- >0){v=0;m=0;for(f=0;f<this.bitmap.height;f++){r=this.bitmap.data[m]*E;n=this.bitmap.data[m+1]*E;s=this.bitmap.data[m+2]*E;o=this.bitmap.data[m+3]*E;for(l=1;l<=t;l++){u=m+((l>b?b:l)<<2);r+=this.bitmap.data[u++];n+=this.bitmap.data[u++];s+=this.bitmap.data[u++];o+=this.bitmap.data[u]}for(h=0;h<this.bitmap.width;h++){_[v]=r;x[v]=n;I[v]=s;D[v]=o;if(f===0){L[h]=((u=h+E)<b?u:b)<<2;T[h]=(u=h-t)>0?u<<2:0}c=m+L[h];d=m+T[h];r+=this.bitmap.data[c++]-this.bitmap.data[d++];n+=this.bitmap.data[c++]-this.bitmap.data[d++];s+=this.bitmap.data[c++]-this.bitmap.data[d++];o+=this.bitmap.data[c]-this.bitmap.data[d];v++}m+=this.bitmap.width<<2}for(h=0;h<this.bitmap.width;h++){p=h;r=_[p]*E;n=x[p]*E;s=I[p]*E;o=D[p]*E;for(l=1;l<=t;l++){p+=l>y?0:this.bitmap.width;r+=_[p];n+=x[p];s+=I[p];o+=D[p]}v=h<<2;for(f=0;f<this.bitmap.height;f++){g=o*M>>>w;this.bitmap.data[v+3]=g;if(g>255){this.bitmap.data[v+3]=255}if(g>0){g=255/g;this.bitmap.data[v]=(r*M>>>w)*g;this.bitmap.data[v+1]=(n*M>>>w)*g;this.bitmap.data[v+2]=(s*M>>>w)*g}else{this.bitmap.data[v+2]=0;this.bitmap.data[v+1]=0;this.bitmap.data[v]=0}if(h===0){L[f]=((u=f+E)<y?u:y)*this.bitmap.width;T[f]=(u=f-t)>0?u*this.bitmap.width:0}c=h+L[f];d=h+T[f];r+=_[c]-_[d];n+=x[c]-x[d];s+=I[c]-I[d];o+=D[c]-D[d];v+=this.bitmap.width<<2}}}if((0,i.isNodePattern)(e)){e.call(this,null,this)}return this}}};e["default"]=n;t.exports=e.default},43:function(t,e,r){"use strict";var i=r(999);var a=4;var n=0;var s=1;var o=2;function zero(t){var e=t.length;while(--e>=0){t[e]=0}}var h=0;var f=1;var l=2;var u=3;var c=258;var d=29;var p=256;var v=p+1+d;var m=30;var g=19;var b=2*v+1;var y=15;var E=16;var M=7;var w=256;var _=16;var x=17;var I=18;var D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];var L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];var P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var k=512;var O=new Array((v+2)*2);zero(O);var N=new Array(m*2);zero(N);var S=new Array(k);zero(S);var A=new Array(c-u+1);zero(A);var B=new Array(d);zero(B);var C=new Array(m);zero(C);function StaticTreeDesc(t,e,r,i,a){this.static_tree=t;this.extra_bits=e;this.extra_base=r;this.elems=i;this.max_length=a;this.has_stree=t&&t.length}var R;var F;var X;function TreeDesc(t,e){this.dyn_tree=t;this.max_code=0;this.stat_desc=e}function d_code(t){return t<256?S[t]:S[256+(t>>>7)]}function put_short(t,e){t.pending_buf[t.pending++]=e&255;t.pending_buf[t.pending++]=e>>>8&255}function send_bits(t,e,r){if(t.bi_valid>E-r){t.bi_buf|=e<<t.bi_valid&65535;put_short(t,t.bi_buf);t.bi_buf=e>>E-t.bi_valid;t.bi_valid+=r-E}else{t.bi_buf|=e<<t.bi_valid&65535;t.bi_valid+=r}}function send_code(t,e,r){send_bits(t,r[e*2],r[e*2+1])}function bi_reverse(t,e){var r=0;do{r|=t&1;t>>>=1;r<<=1}while(--e>0);return r>>>1}function bi_flush(t){if(t.bi_valid===16){put_short(t,t.bi_buf);t.bi_buf=0;t.bi_valid=0}else if(t.bi_valid>=8){t.pending_buf[t.pending++]=t.bi_buf&255;t.bi_buf>>=8;t.bi_valid-=8}}function gen_bitlen(t,e){var r=e.dyn_tree;var i=e.max_code;var a=e.stat_desc.static_tree;var n=e.stat_desc.has_stree;var s=e.stat_desc.extra_bits;var o=e.stat_desc.extra_base;var h=e.stat_desc.max_length;var f;var l,u;var c;var d;var p;var v=0;for(c=0;c<=y;c++){t.bl_count[c]=0}r[t.heap[t.heap_max]*2+1]=0;for(f=t.heap_max+1;f<b;f++){l=t.heap[f];c=r[r[l*2+1]*2+1]+1;if(c>h){c=h;v++}r[l*2+1]=c;if(l>i){continue}t.bl_count[c]++;d=0;if(l>=o){d=s[l-o]}p=r[l*2];t.opt_len+=p*(c+d);if(n){t.static_len+=p*(a[l*2+1]+d)}}if(v===0){return}do{c=h-1;while(t.bl_count[c]===0){c--}t.bl_count[c]--;t.bl_count[c+1]+=2;t.bl_count[h]--;v-=2}while(v>0);for(c=h;c!==0;c--){l=t.bl_count[c];while(l!==0){u=t.heap[--f];if(u>i){continue}if(r[u*2+1]!==c){t.opt_len+=(c-r[u*2+1])*r[u*2];r[u*2+1]=c}l--}}}function gen_codes(t,e,r){var i=new Array(y+1);var a=0;var n;var s;for(n=1;n<=y;n++){i[n]=a=a+r[n-1]<<1}for(s=0;s<=e;s++){var o=t[s*2+1];if(o===0){continue}t[s*2]=bi_reverse(i[o]++,o)}}function tr_static_init(){var t;var e;var r;var i;var a;var n=new Array(y+1);r=0;for(i=0;i<d-1;i++){B[i]=r;for(t=0;t<1<<D[i];t++){A[r++]=i}}A[r-1]=i;a=0;for(i=0;i<16;i++){C[i]=a;for(t=0;t<1<<L[i];t++){S[a++]=i}}a>>=7;for(;i<m;i++){C[i]=a<<7;for(t=0;t<1<<L[i]-7;t++){S[256+a++]=i}}for(e=0;e<=y;e++){n[e]=0}t=0;while(t<=143){O[t*2+1]=8;t++;n[8]++}while(t<=255){O[t*2+1]=9;t++;n[9]++}while(t<=279){O[t*2+1]=7;t++;n[7]++}while(t<=287){O[t*2+1]=8;t++;n[8]++}gen_codes(O,v+1,n);for(t=0;t<m;t++){N[t*2+1]=5;N[t*2]=bi_reverse(t,5)}R=new StaticTreeDesc(O,D,p+1,v,y);F=new StaticTreeDesc(N,L,0,m,y);X=new StaticTreeDesc(new Array(0),T,0,g,M)}function init_block(t){var e;for(e=0;e<v;e++){t.dyn_ltree[e*2]=0}for(e=0;e<m;e++){t.dyn_dtree[e*2]=0}for(e=0;e<g;e++){t.bl_tree[e*2]=0}t.dyn_ltree[w*2]=1;t.opt_len=t.static_len=0;t.last_lit=t.matches=0}function bi_windup(t){if(t.bi_valid>8){put_short(t,t.bi_buf)}else if(t.bi_valid>0){t.pending_buf[t.pending++]=t.bi_buf}t.bi_buf=0;t.bi_valid=0}function copy_block(t,e,r,a){bi_windup(t);if(a){put_short(t,r);put_short(t,~r)}i.arraySet(t.pending_buf,t.window,e,r,t.pending);t.pending+=r}function smaller(t,e,r,i){var a=e*2;var n=r*2;return t[a]<t[n]||t[a]===t[n]&&i[e]<=i[r]}function pqdownheap(t,e,r){var i=t.heap[r];var a=r<<1;while(a<=t.heap_len){if(a<t.heap_len&&smaller(e,t.heap[a+1],t.heap[a],t.depth)){a++}if(smaller(e,i,t.heap[a],t.depth)){break}t.heap[r]=t.heap[a];r=a;a<<=1}t.heap[r]=i}function compress_block(t,e,r){var i;var a;var n=0;var s;var o;if(t.last_lit!==0){do{i=t.pending_buf[t.d_buf+n*2]<<8|t.pending_buf[t.d_buf+n*2+1];a=t.pending_buf[t.l_buf+n];n++;if(i===0){send_code(t,a,e)}else{s=A[a];send_code(t,s+p+1,e);o=D[s];if(o!==0){a-=B[s];send_bits(t,a,o)}i--;s=d_code(i);send_code(t,s,r);o=L[s];if(o!==0){i-=C[s];send_bits(t,i,o)}}}while(n<t.last_lit)}send_code(t,w,e)}function build_tree(t,e){var r=e.dyn_tree;var i=e.stat_desc.static_tree;var a=e.stat_desc.has_stree;var n=e.stat_desc.elems;var s,o;var h=-1;var f;t.heap_len=0;t.heap_max=b;for(s=0;s<n;s++){if(r[s*2]!==0){t.heap[++t.heap_len]=h=s;t.depth[s]=0}else{r[s*2+1]=0}}while(t.heap_len<2){f=t.heap[++t.heap_len]=h<2?++h:0;r[f*2]=1;t.depth[f]=0;t.opt_len--;if(a){t.static_len-=i[f*2+1]}}e.max_code=h;for(s=t.heap_len>>1;s>=1;s--){pqdownheap(t,r,s)}f=n;do{s=t.heap[1];t.heap[1]=t.heap[t.heap_len--];pqdownheap(t,r,1);o=t.heap[1];t.heap[--t.heap_max]=s;t.heap[--t.heap_max]=o;r[f*2]=r[s*2]+r[o*2];t.depth[f]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1;r[s*2+1]=r[o*2+1]=f;t.heap[1]=f++;pqdownheap(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1];gen_bitlen(t,e);gen_codes(r,h,t.bl_count)}function scan_tree(t,e,r){var i;var a=-1;var n;var s=e[0*2+1];var o=0;var h=7;var f=4;if(s===0){h=138;f=3}e[(r+1)*2+1]=65535;for(i=0;i<=r;i++){n=s;s=e[(i+1)*2+1];if(++o<h&&n===s){continue}else if(o<f){t.bl_tree[n*2]+=o}else if(n!==0){if(n!==a){t.bl_tree[n*2]++}t.bl_tree[_*2]++}else if(o<=10){t.bl_tree[x*2]++}else{t.bl_tree[I*2]++}o=0;a=n;if(s===0){h=138;f=3}else if(n===s){h=6;f=3}else{h=7;f=4}}}function send_tree(t,e,r){var i;var a=-1;var n;var s=e[0*2+1];var o=0;var h=7;var f=4;if(s===0){h=138;f=3}for(i=0;i<=r;i++){n=s;s=e[(i+1)*2+1];if(++o<h&&n===s){continue}else if(o<f){do{send_code(t,n,t.bl_tree)}while(--o!==0)}else if(n!==0){if(n!==a){send_code(t,n,t.bl_tree);o--}send_code(t,_,t.bl_tree);send_bits(t,o-3,2)}else if(o<=10){send_code(t,x,t.bl_tree);send_bits(t,o-3,3)}else{send_code(t,I,t.bl_tree);send_bits(t,o-11,7)}o=0;a=n;if(s===0){h=138;f=3}else if(n===s){h=6;f=3}else{h=7;f=4}}}function build_bl_tree(t){var e;scan_tree(t,t.dyn_ltree,t.l_desc.max_code);scan_tree(t,t.dyn_dtree,t.d_desc.max_code);build_tree(t,t.bl_desc);for(e=g-1;e>=3;e--){if(t.bl_tree[P[e]*2+1]!==0){break}}t.opt_len+=3*(e+1)+5+5+4;return e}function send_all_trees(t,e,r,i){var a;send_bits(t,e-257,5);send_bits(t,r-1,5);send_bits(t,i-4,4);for(a=0;a<i;a++){send_bits(t,t.bl_tree[P[a]*2+1],3)}send_tree(t,t.dyn_ltree,e-1);send_tree(t,t.dyn_dtree,r-1)}function detect_data_type(t){var e=4093624447;var r;for(r=0;r<=31;r++,e>>>=1){if(e&1&&t.dyn_ltree[r*2]!==0){return n}}if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0){return s}for(r=32;r<p;r++){if(t.dyn_ltree[r*2]!==0){return s}}return n}var G=false;function _tr_init(t){if(!G){tr_static_init();G=true}t.l_desc=new TreeDesc(t.dyn_ltree,R);t.d_desc=new TreeDesc(t.dyn_dtree,F);t.bl_desc=new TreeDesc(t.bl_tree,X);t.bi_buf=0;t.bi_valid=0;init_block(t)}function _tr_stored_block(t,e,r,i){send_bits(t,(h<<1)+(i?1:0),3);copy_block(t,e,r,true)}function _tr_align(t){send_bits(t,f<<1,3);send_code(t,w,O);bi_flush(t)}function _tr_flush_block(t,e,r,i){var n,s;var h=0;if(t.level>0){if(t.strm.data_type===o){t.strm.data_type=detect_data_type(t)}build_tree(t,t.l_desc);build_tree(t,t.d_desc);h=build_bl_tree(t);n=t.opt_len+3+7>>>3;s=t.static_len+3+7>>>3;if(s<=n){n=s}}else{n=s=r+5}if(r+4<=n&&e!==-1){_tr_stored_block(t,e,r,i)}else if(t.strategy===a||s===n){send_bits(t,(f<<1)+(i?1:0),3);compress_block(t,O,N)}else{send_bits(t,(l<<1)+(i?1:0),3);send_all_trees(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1);compress_block(t,t.dyn_ltree,t.dyn_dtree)}init_block(t);if(i){bi_windup(t)}}function _tr_tally(t,e,r){t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255;t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255;t.pending_buf[t.l_buf+t.last_lit]=r&255;t.last_lit++;if(e===0){t.dyn_ltree[r*2]++}else{t.matches++;e--;t.dyn_ltree[(A[r]+p+1)*2]++;t.dyn_dtree[d_code(e)*2]++}return t.last_lit===t.lit_bufsize-1}e._tr_init=_tr_init;e._tr_stored_block=_tr_stored_block;e._tr_flush_block=_tr_flush_block;e._tr_tally=_tr_tally;e._tr_align=_tr_align},65:function(t,e){"use strict";function GifWriter(t,e,r,i){var a=0;var i=i===undefined?{}:i;var n=i.loop===undefined?null:i.loop;var s=i.palette===undefined?null:i.palette;if(e<=0||r<=0||e>65535||r>65535)throw new Error("Width/Height invalid.");function check_palette_and_num_colors(t){var e=t.length;if(e<2||e>256||e&e-1){throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.")}return e}t[a++]=71;t[a++]=73;t[a++]=70;t[a++]=56;t[a++]=57;t[a++]=97;var o=0;var h=0;if(s!==null){var f=check_palette_and_num_colors(s);while(f>>=1)++o;f=1<<o;--o;if(i.background!==undefined){h=i.background;if(h>=f)throw new Error("Background index out of range.");if(h===0)throw new Error("Background index explicitly passed as 0.")}}t[a++]=e&255;t[a++]=e>>8&255;t[a++]=r&255;t[a++]=r>>8&255;t[a++]=(s!==null?128:0)|o;t[a++]=h;t[a++]=0;if(s!==null){for(var l=0,u=s.length;l<u;++l){var c=s[l];t[a++]=c>>16&255;t[a++]=c>>8&255;t[a++]=c&255}}if(n!==null){if(n<0||n>65535)throw new Error("Loop count invalid.");t[a++]=33;t[a++]=255;t[a++]=11;t[a++]=78;t[a++]=69;t[a++]=84;t[a++]=83;t[a++]=67;t[a++]=65;t[a++]=80;t[a++]=69;t[a++]=